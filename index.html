<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>nehan.js by tategakibunko</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <link rel="stylesheet" href="stylesheets/nehan.css">
    <link rel="stylesheet" href="stylesheets/custom.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>nehan.js</h1>
        <p>nehan.js is dynamic layout engine to generate paged-media in non-blocking way.</p>

        <p class="view"><a href="https://github.com/tategakibunko/nehan.js">View the Project on GitHub <small>tategakibunko/nehan.js</small></a></p>

        <ul>
          <li><a href="https://github.com/tategakibunko/nehan.js/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/tategakibunko/nehan.js/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/tategakibunko/nehan.js">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>

      <!-- summary -->
      <section>
        <h2><a name="summary" class="anchor" href="#summary"><span class="octicon octicon-link"></span></a>Summary</h2>

	<p>nehan.js is dynamic layout engine to generate paged-media in non-blocking way.</p>
      </section>

      <!-- demo -->
      <section>
	<h2><a name="demo" class="anchor" href="#demo"><span class="octicon octicon-link"></span></a>Demo</h2>
	<p>
	  This demo is using <a target="_blank" href="https://github.com/tategakibunko/jquery.nehan/">jquery.nehan</a>.
	</p>

<!-- demo start -->
<div class="nehan-book" style="display:none">
<h2>wraparounding</h2>

<p><img src='images/128x128.gif' width='128' height='128' class='nehan-float-end nehan-gap-start'/>
lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. 
<img src='images/256x256.gif' width='256' height='256' class='nehan-float-start nehan-gap-end'/>
lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in.</p>

<h2>mixed layout</h2>

<div class="nehan-flow-tb-rl nehan-float-start nehan-gap-end" width="300" height="300">
<img src='images/128x128.gif' width='128' height='128' class='nehan-float-start nehan-gap-end'/>
<ruby>日本<rt>にほん</rt></ruby>国民は正当に<ruby>選挙<rt>せんきょ</rt></ruby>された<ruby>国会<rt>こっかい</rt></ruby>における代表者を通じて行動し、<ruby>子孫<rt>しそん</rt></ruby>のために、諸国民との協和による成果と、わが国全土にわたって自由のもたらす<ruby><rb>恵沢</rb><rt>けいたく</rt></ruby>を確保し、政府の行為によって再び<ruby><rb>戦争</rb><rt>せんそう</rt></ruby>の<ruby><rb>惨禍</rb><rt>さんか</rt></ruby>が起ることのないやうにすることを決意し、ここに<ruby><rb>主権</rb><rt>しゅけん</rt></ruby>が国民に存することを宣言し、この憲法を確定する。
</div>

<p>
lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
</p>

<hr class="nehan-pb-after" />

<h2>table paging</h2>

<table>
<thead>
<tr><th>head1</th><th>head2</th></tr>
</thead>
<tbody>
<tr><td>lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</td><td>body2</td></tr>
<tr><td>body3</td><td>body4</td></tr>
<tr><td>body5</td><td>body6</td></tr>
<tr><td>body7</td><td>body8</td></tr>
</tbody>
<tfoot>
<tr><td>foot1</td><td>foot2</td></tr>
</tfoot>
</table>

<h2>unordered list</h2>

<ul>
<li>lorem ipsum dolor sit amet, consectetur adipisicing elit lorem ipsum dolor sit amet, consectetur adipisicing elit</li>
<li>lorem ipsum dolor sit amet, consectetur adipisicing elit</li>
<li>abc ded ghi</li>
</ul>

<ul class='nehan-ls-none'>
<li>lorem ipsum dolor sit amet, consectetur adipisicing elit lorem ipsum dolor sit amet, consectetur adipisicing elit</li>
<li>lorem ipsum dolor sit amet, consectetur adipisicing elit</li>
<li>abc ded ghi</li>
</ul>

<h2>ordered list</h2>

<ol>
<li>first
2.
<ol>
<li>lorem ipsum dolor sit amet, consectetur adipisicing elit lorem ipsum dolor sit amet, consectetur adipisicing elit</li>
<li>lorem ipsum dolor sit amet, consectetur adipisicing elit</li>
<li>abc def ghi</li>
</ol></li>
<li>last</li>
</ol>

<h2>definition list</h2>

<dl>
<dt>term1</dt>
<dd>lorem ipsum dolor sit amet, consectetur adipisicing elit lorem ipsum dolor sit amet, consectetur adipisicing elit</dd>
<dt>term2</dt>
<dd>lorem ipsum dolor sit amet, consectetur adipisicing elit</dd>
<dt>term3</dt>
<dd>abc ded ghi</dd>
<dt>term4</dt>
<dd>lorem ipsum dolor sit amet, consectetur adipisicing elit lorem ipsum dolor sit amet, consectetur adipisicing elit</dd>
<dt>term5</dt>
<dd>lorem ipsum dolor sit amet, consectetur adipisicing elit</dd>
<dt>term6</dt>
<dd>abc ded ghi</dd>
</dl>
</div><!-- demo end -->
      </section>


      <!-- getting started -->
      <section>
        <h2><a name="install" class="anchor" href="#install"><span class="octicon octicon-link"></span></a>Install</h2>
	<p>Include css, js in the <code>&lt;head&gt;</code>.</p>
<pre class="prettyprint lang-html">
&lt;link href="/path/to/nehan.css" type="text/css" rel="stylesheet"&gt;
&lt;script src="/path/to/nehan.js" type="text/javascript"&gt;&lt;/script&gt;
</pre>
      </section>


      <section>
        <h2><a name="install" class="anchor" href="#getting-started"><span class="octicon octicon-link"></span></a>Getting Started</h2>

<h3>1. generate layout engine with layout settings.</h3>

<p>First, create layout engine with independent layouting environment.</p>

<pre class="prettyprint lang-js">
var engine = Nehan.setup({
   layout:{
      direction:"hori", // or "vert"
      vert:"tb-rl", // or "tb-lr"
      hori:"lr-tb",
      fontSize:16,
      width: 640,
      height: 480
   }
});
</pre>

<h3>2. create page stream</h3>

<p>Now you can create paged-media stream via <code>createPageStream</code>.</p>

<pre class="prettyprint lang-js">
var stream = engine.createPageStream("hello, nehan.js!");
</pre>

<h3>3. yield page</h3>

<p>Stream is created, now you can yield paged-media in two way.</p>

<h4>3-1. asyncGet(non blocking)</h4>

<p>First way is <strong>asyncGet</strong>(recommended), it is <strong>non blocking function</strong>, you can use this function like this.</p>

<pre class="prettyprint lang-js">
stream.asyncGet({
  // called when each single pages are successfully calculated.
  // argument caller is same as stream.
  onProgress : function(caller){
    var percent = caller.getSeekPercent(); // percentage position of this page.
    var page_no = caller.getSeekPageNo(); // page no(starts from zero) of this page.
    var page_result = caller.get(page_no); // get page result object of this page.
    var page_html = page_result.getHtml(); // html of this page.
    console.log(page_html);
  },
  onComplete : function(time){
    console.log("finished! %f msec", time);
  }
});
</pre>

<h4>3-2. syncGet(blocking)</h4>

<p>Second way is <strong>syncGet</strong>, it is <strong>blocking</strong> function because it parses all pages immediately.</p>

<p>So don't use this function if document is too large.</p>

<pre class="prettyprint lang-js">
var time = stream.syncGet();
console.log("finished! %f msec", time);

for(var i = 0; i < stream.getPageCount(); i++){
   var page = stream.get(i);
   console.log(page.html);
}
</pre>
      </section><!-- getting started -->

      <!-- license -->
      <section>
        <h2><a name="license" class="anchor" href="#license"><span class="octicon octicon-link"></span></a>License</h2>
	<p>licensed under MIT.</p>
      </section>

      <footer>
        <p>This project is maintained by <a href="https://github.com/tategakibunko">tategakibunko</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>

    <script src="javascripts/scale.fix.js"></script>
    <script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
    <script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js"></script>
    <script src="javascripts/nehan.min.js"></script>
    <script src="javascripts/jquery.nehan.min.js"></script>
    <script src="javascripts/custom.js"></script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      
      ga('create', 'UA-399060-28', 'tategakibunko.github.io');
      ga('send', 'pageview');
    </script>
  </body>
</html>
